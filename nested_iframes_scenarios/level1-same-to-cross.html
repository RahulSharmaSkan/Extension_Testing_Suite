<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Same Origin Level 1 - Contains Cross Origin</title>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            margin: 15px;
            background: linear-gradient(135deg, #4caf50 0%, #2e7d32 100%);
            color: white;
            min-height: calc(100vh - 30px);
        }
        
        .header {
            text-align: center;
            margin-bottom: 25px;
            padding: 20px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 10px;
        }
        
        .info-section {
            background: rgba(255, 255, 255, 0.15);
            padding: 15px;
            border-radius: 8px;
            margin-bottom: 20px;
            border: 2px solid rgba(255, 255, 255, 0.3);
        }
        
        .nested-container {
            background-color: rgba(255, 255, 255, 0.1);
            border-radius: 10px;
            padding: 20px;
            border: 3px solid rgba(255, 255, 255, 0.4);
        }
        
        .nested-iframe {
            width: 100%;
            height: 450px;
            border: 4px solid #ff6b6b;
            border-radius: 8px;
            background: white;
        }
        
        .origin-badge {
            background: #2196f3;
            color: white;
            padding: 5px 12px;
            border-radius: 15px;
            font-size: 0.9em;
            display: inline-block;
            margin: 5px;
        }
        
        .same-origin-badge {
            background: #4caf50;
        }
        
        .cross-origin-badge {
            background: #ff5722;
        }
    </style>
</head>
<body>
    <div class="header">
        <h1>üü¢ Same-Origin Level 1</h1>
        <p>This is a same-origin iframe that will embed a cross-origin iframe</p>
        <div>
            <span class="origin-badge same-origin-badge">Current: Same Origin</span>
            <span>‚Üí</span>
            <span class="origin-badge cross-origin-badge">Next: Cross Origin</span>
        </div>
    </div>
    
    <div class="info-section">
        <h3>üìç Current Status:</h3>
        <ul>
            <li><strong>Frame Level:</strong> 1 (Same Origin)</li>
            <li><strong>Origin:</strong> <span id="current-origin">Loading...</span></li>
            <li><strong>Parent Accessible:</strong> <span id="parent-access">Checking...</span></li>
            <li><strong>Next Level:</strong> Cross-Origin iframe with another nested iframe</li>
        </ul>
    </div>
    
    <div class="nested-container">
        <h2>üîó Embedded Cross-Origin Iframe (Level 2)</h2>
        <p>Below is a cross-origin iframe that contains another cross-origin iframe:</p>
        
        <iframe 
            class="nested-iframe"
            src="data:text/html;charset=utf-8,%3C%21DOCTYPE%20html%3E%0A%3Chtml%20lang%3D%22en%22%3E%0A%3Chead%3E%0A%20%20%20%20%3Cmeta%20charset%3D%22UTF-8%22%3E%0A%20%20%20%20%3Cmeta%20name%3D%22viewport%22%20content%3D%22width%3Ddevice-width%2C%20initial-scale%3D1.0%22%3E%0A%20%20%20%20%3Ctitle%3ECross-Origin%20Level%202%3C%2Ftitle%3E%0A%20%20%20%20%3Cstyle%3E%0A%20%20%20%20%20%20%20%20body%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20font-family%3A%20%27Segoe%20UI%27%2C%20sans-serif%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20margin%3A%2010px%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20background%3A%20linear-gradient%28135deg%2C%20%23ff6b6b%200%25%2C%20%23ee5a24%20100%25%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20color%3A%20white%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20min-height%3A%20calc%28100vh%20-%2020px%29%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20.header%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20text-align%3A%20center%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20margin-bottom%3A%2020px%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20padding%3A%2015px%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20background%3A%20rgba%28255%2C%20255%2C%20255%2C%200.1%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20border-radius%3A%208px%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20.final-container%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20background-color%3A%20rgba%28255%2C%20255%2C%20255%2C%200.15%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20border-radius%3A%208px%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20padding%3A%2015px%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20border%3A%202px%20solid%20rgba%28255%2C%20255%2C%20255%2C%200.3%29%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20.final-iframe%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20width%3A%20100%25%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20height%3A%20280px%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20border%3A%203px%20solid%20%2354a3ff%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20border-radius%3A%206px%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20.info-box%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20background%3A%20rgba%28255%2C%20255%2C%20255%2C%200.2%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20padding%3A%2012px%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20border-radius%3A%206px%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20margin-bottom%3A%2015px%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20.origin-badge%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20background%3A%20%23ff5722%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20color%3A%20white%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20padding%3A%204px%2010px%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20border-radius%3A%2012px%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20font-size%3A%200.8em%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20display%3A%20inline-block%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20margin%3A%203px%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%3C%2Fstyle%3E%0A%3C%2Fhead%3E%0A%3Cbody%3E%0A%20%20%20%20%3Cdiv%20class%3D%22header%22%3E%0A%20%20%20%20%20%20%20%20%3Ch1%3E%F0%9F%94%B4%20Cross-Origin%20Level%202%3C%2Fh1%3E%0A%20%20%20%20%20%20%20%20%3Cp%3EThis%20is%20a%20cross-origin%20iframe%20containing%20another%20cross-origin%20iframe%3C%2Fp%3E%0A%20%20%20%20%20%20%20%20%3Cdiv%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cspan%20class%3D%22origin-badge%22%3ECurrent%3A%20Cross%20Origin%20%28Level%202%29%3C%2Fspan%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cspan%3E%E2%86%92%3C%2Fspan%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cspan%20class%3D%22origin-badge%22%3ENext%3A%20Cross%20Origin%20%28Level%203%29%3C%2Fspan%3E%0A%20%20%20%20%20%20%20%20%3C%2Fdiv%3E%0A%20%20%20%20%3C%2Fdiv%3E%0A%20%20%20%20%0A%20%20%20%20%3Cdiv%20class%3D%22info-box%22%3E%0A%20%20%20%20%20%20%20%20%3Ch3%3E%F0%9F%93%8D%20Frame%20Information%3A%3C%2Fh3%3E%0A%20%20%20%20%20%20%20%20%3Cul%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cli%3E%3Cstrong%3EFrame%20Level%3A%3C%2Fstrong%3E%202%20%28Cross%20Origin%29%3C%2Fli%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cli%3E%3Cstrong%3EParent%20Frame%3A%3C%2Fstrong%3E%20Same%20Origin%20%28Level%201%29%3C%2Fli%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cli%3E%3Cstrong%3EChild%20Frame%3A%3C%2Fstrong%3E%20Cross%20Origin%20%28Level%203%29%3C%2Fli%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cli%3E%3Cstrong%3ESecurity%3A%3C%2Fstrong%3E%20Isolated%20from%20parent%20due%20to%20cross-origin%20policy%3C%2Fli%3E%0A%20%20%20%20%20%20%20%20%3C%2Ful%3E%0A%20%20%20%20%3C%2Fdiv%3E%0A%20%20%20%20%0A%20%20%20%20%3Cdiv%20class%3D%22final-container%22%3E%0A%20%20%20%20%20%20%20%20%3Ch2%3E%F0%9F%8E%AF%20Final%20Cross-Origin%20Iframe%20%28Level%203%29%3C%2Fh2%3E%0A%20%20%20%20%20%20%20%20%3Cp%3EThis%20is%20the%20deepest%20level%20-%20a%20third%20cross-origin%20iframe%3A%3C%2Fp%3E%0A%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%3Ciframe%20%0A%20%20%20%20%20%20%20%20%20%20%20%20class%3D%22final-iframe%22%0A%20%20%20%20%20%20%20%20%20%20%20%20src%3D%22https%3A%2F%2Fhttpbin.org%2Fhtml%22%0A%20%20%20%20%20%20%20%20%20%20%20%20title%3D%22Final%20Cross-Origin%20Level%203%22%0A%20%20%20%20%20%20%20%20%20%20%20%20sandbox%3D%22allow-same-origin%20allow-scripts%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cp%3ELevel%203%20content%20not%20available%3C%2Fp%3E%0A%20%20%20%20%20%20%20%20%3C%2Fiframe%3E%0A%20%20%20%20%3C%2Fdiv%3E%0A%20%20%20%20%0A%20%20%20%20%3Cscript%3E%0A%20%20%20%20%20%20%20%20%2F%2F%20Log%20information%20about%20this%20cross-origin%20frame%0A%20%20%20%20%20%20%20%20console.log%28%27%F0%9F%94%B4%20Cross-Origin%20Level%202%20loaded%27%29%3B%0A%20%20%20%20%20%20%20%20console.log%28%27Current%20origin%3A%27%2C%20window.location.origin%29%3B%0A%20%20%20%20%20%20%20%20console.log%28%27Frame%20nesting%20level%3A%202%27%29%3B%0A%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%2F%2F%20Try%20to%20access%20parent%20%28should%20fail%20due%20to%20cross-origin%20policy%29%0A%20%20%20%20%20%20%20%20try%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20console.log%28%27Parent%20origin%3A%27%2C%20window.parent.location.origin%29%3B%0A%20%20%20%20%20%20%20%20%7D%20catch%20%28e%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20console.log%28%27%E2%9D%8C%20Cannot%20access%20parent%20origin%20-%20cross-origin%20restriction%3A%27%2C%20e.message%29%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%2F%2F%20Send%20message%20to%20parent%20%28if%20postMessage%20is%20allowed%29%0A%20%20%20%20%20%20%20%20try%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20window.parent.postMessage%28%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20%27cross-origin-level-2-loaded%27%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20level%3A%202%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20message%3A%20%27Cross-origin%20Level%202%20iframe%20loaded%20successfully%27%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%20%27%2A%27%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20console.log%28%27%F0%9F%93%A8%20Message%20sent%20to%20parent%20via%20postMessage%27%29%3B%0A%20%20%20%20%20%20%20%20%7D%20catch%20%28e%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20console.log%28%27%E2%9D%8C%20Could%20not%20send%20message%20to%20parent%3A%27%2C%20e.message%29%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%3C%2Fscript%3E%0A%3C%2Fbody%3E%0A%3C%2Fhtml%3E"
            title="Cross-Origin Level 2"
            sandbox="allow-same-origin allow-scripts">
            <p>Cross-origin iframe not supported.</p>
        </iframe>
    </div>
    
    <script>
        // Log information about this same-
    </script>
</body>
</html>
